{"title":"基于Vue3+elementUI的中后台CRUD组件","date":"2021-04-03T02:00:28.000Z","date_formatted":{"ll":"2021年4月3日","L":"2021/04/03","MM-DD":"04-03"},"link":"2021/04/03/2021-04-03","tags":["Element Plus","Vue.js"],"updated":"2024-01-24T01:26:39.000Z","content":"<h2 id=\"vue-restful-admin\">Vue restful admin<a title=\"#vue-restful-admin\" href=\"#vue-restful-admin\"></a></h2>\n<h3 id=\"根据-restful-接口快速创建-crud-界面\">根据 restful 接口快速创建 CRUD 界面<a title=\"#根据-restful-接口快速创建-crud-界面\" href=\"#根据-restful-接口快速创建-crud-界面\"></a></h3>\n<blockquote>\n<p>restful 接口根据不同的请求方式可以快速完成资源的增删查改,<br>\n而对于前端来说意味着只需要为组件提供一个 url 属性便可以完成<br>\n所有的操作.</p>\n</blockquote>\n<blockquote>\n<p>在此项目中，参考了<a href=\"https://github.com/marmelab/react-admin\" target=\"_blank\">react-admin</a>的中的 data-provider<br>\n的设计思路，将 restful 请求接口写成单独的函数，这样便可以定义自己的请求接口</p>\n</blockquote>\n<ol>\n<li>\n<p>定义 dataServer</p>\n<pre><code>dataServer 中定义了五种基本操作\n</code></pre>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">dataServer</span> = (<span class=\"params\">url</span>) =&gt; (&#123;</span><br><span class=\"line\">  <span class=\"attr\">getAll</span>: <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> [];</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">get</span>: <span class=\"function\">(<span class=\"params\">id</span>) =&gt;</span> &#123;&#125;,</span><br><span class=\"line\">  <span class=\"attr\">create</span>: <span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;&#125;,</span><br><span class=\"line\">  <span class=\"attr\">update</span>: <span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;&#125;,</span><br><span class=\"line\">  <span class=\"attr\">delete</span>: <span class=\"function\">(<span class=\"params\">id</span>) =&gt;</span> &#123;&#125;,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>通过编写类似 schema 的方式来定义表格和编辑表单</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">columns</span>: [</span><br><span class=\"line\">  &#123; <span class=\"attr\">prop</span>: <span class=\"string\">&quot;author&quot;</span>, <span class=\"attr\">label</span>: <span class=\"string\">&quot;姓名&quot;</span>, <span class=\"attr\">type</span>: <span class=\"string\">&quot;input&quot;</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">prop</span>: <span class=\"string\">&quot;title&quot;</span>, <span class=\"attr\">label</span>: <span class=\"string\">&quot;标题&quot;</span>, <span class=\"attr\">type</span>: <span class=\"string\">&quot;input&quot;</span> &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">prop</span>: <span class=\"string\">&quot;create_at&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">label</span>: <span class=\"string\">&quot;创建时间&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"string\">&quot;time&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">format</span>: <span class=\"string\">&quot;YYYY-MM-DD HH:mm&quot;</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">prop</span>: <span class=\"string\">&quot;gender&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">label</span>: <span class=\"string\">&quot;性别&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"string\">&quot;select&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">options</span>: [</span><br><span class=\"line\">      &#123; <span class=\"attr\">label</span>: <span class=\"string\">&quot;男&quot;</span>, <span class=\"attr\">value</span>: <span class=\"number\">1</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">label</span>: <span class=\"string\">&quot;女&quot;</span>, <span class=\"attr\">value</span>: <span class=\"number\">2</span> &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">];</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>效果图</p>\n<p><img src=\"https://i.loli.net/2021/04/30/mVlHncrkIeWvtg6.png\" alt=\"table.PNG\" loading=\"lazy\"><br>\n<img src=\"https://i.loli.net/2021/04/30/v68rOZbX7uF3EPH.png\" alt=\"edit.PNG\" loading=\"lazy\"></p>\n</li>\n</ol>\n","prev":{"title":"使用 JSDoc 获得更好的类型提示","link":"2021/07/06/2021-07-06"},"next":{"title":"艾宾浩斯复习法生成课文播放列表","link":"2021/03/28/2021-03-28"},"plink":"https://pi-char.github.io/2021/04/03/2021-04-03/","toc":[{"id":"vue-restful-admin","title":"Vue restful admin","index":"1","children":[{"id":"根据-restful-接口快速创建-crud-界面","title":"根据 restful 接口快速创建 CRUD 界面","index":"1.1"}]}],"reading_time":"269 字约 2 分钟"}